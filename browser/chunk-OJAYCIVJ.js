import{a as V}from"./chunk-EEUWHGAI.js";import{f as j,i as R}from"./chunk-BAG2IDU5.js";import"./chunk-YFPKJNUV.js";import{$ as m,$a as x,Ca as S,Ha as y,Kb as k,Lb as I,Ma as c,Mb as D,Nb as T,Ob as M,Ta as s,Ua as E,Wa as e,Xa as t,Ya as d,aa as p,eb as n,fb as g,gb as v,hb as u,mb as h,nb as A,qb as _,rb as C,sb as f,tb as w,v as b,ya as o}from"./chunk-GXRW5RWN.js";var H=()=>[6,5,4,3,2,1,0],F=(i,r,a,l)=>({"bg-yellow-100 text-yellow-800":i,"bg-green-100 text-green-800":r,"bg-red-100 text-red-800":a,"bg-gray-100 text-gray-800":l}),G=i=>["/admin/users",i],P=()=>["May 1","Apr 30","Apr 29","Apr 28","Apr 27","Apr 26","Apr 25"],O=(i,r,a,l,N)=>({"bg-blue-100 text-blue-800":i,"bg-blue-200 text-blue-800":r,"bg-blue-300 text-blue-800":a,"bg-blue-400 text-white":l,"bg-blue-500 text-white":N});function B(i,r){if(i&1&&(e(0,"div",54)(1,"div",55),m(),e(2,"svg",56),d(3,"path",19),t(),p(),e(4,"span"),n(5),t()()()),i&2){let a=x();o(5),g(a.error)}}function z(i,r){i&1&&(e(0,"span",57),n(1,"..."),t())}function U(i,r){if(i&1&&(e(0,"span"),n(1),t()),i&2){let a=x();o(),g(a.statistics.totalApplications)}}function J(i,r){i&1&&(e(0,"span",57),n(1,"..."),t())}function $(i,r){if(i&1&&(e(0,"span"),n(1),t()),i&2){let a=x();o(),g(a.statistics.pendingReview)}}function q(i,r){i&1&&(e(0,"span",57),n(1,"..."),t())}function K(i,r){if(i&1&&(e(0,"span"),n(1),t()),i&2){let a=x();o(),g(a.statistics.approved)}}function Q(i,r){i&1&&(e(0,"span",57),n(1,"..."),t())}function W(i,r){if(i&1&&(e(0,"span"),n(1),t()),i&2){let a=x();o(),g(a.statistics.rejected)}}function X(i,r){i&1&&(e(0,"div",58),d(1,"div",59),t())}function Y(i,r){if(i&1&&(e(0,"div",28)(1,"div",60),d(2,"div",61),t(),e(3,"span",62),n(4),t()()),i&2){let a=x();o(2),E("width",a.statistics.completionRate,"%"),o(2),v("",a.statistics.completionRate,"%")}}function Z(i,r){i&1&&(e(0,"div",63)(1,"div",64),d(2,"div",65)(3,"div",66),e(4,"div",67),n(5,"Loading"),t()()())}function ee(i,r){i&1&&(e(0,"div",68),m(),e(1,"svg",69),d(2,"path",11),t(),p(),e(3,"h3",70),n(4,"No applications found"),t(),e(5,"p",71),n(6,"There are no recent applications in the system. New applications will appear here when submitted."),t()())}function te(i,r){if(i&1&&(e(0,"tr",78)(1,"td",79),n(2),t(),e(3,"td",80)(4,"div",28)(5,"div",81),n(6),t(),e(7,"div",82)(8,"div",83),n(9),t()()()(),e(10,"td",84),n(11),t(),e(12,"td",80)(13,"span",85),n(14),t()(),e(15,"td",84),n(16),f(17,"date"),t(),e(18,"td",86)(19,"a",87),m(),e(20,"svg",88),d(21,"path",89)(22,"path",90),t(),n(23," View Details "),t()()()),i&2){let a=r.$implicit;o(2),g(a.id),o(4),u(" ",a.firstName.charAt(0),"",a.lastName.charAt(0)," "),o(3),u("",a.firstName," ",a.lastName,""),o(2),g(a.email),o(2),s("ngClass",_(13,F,a.applicationStatus==="PENDING",a.applicationStatus==="APPROVED",a.applicationStatus==="REJECTED",!a.applicationStatus)),o(),v(" ",a.applicationStatus||"N/A"," "),o(2),g(w(17,10,a.createdAt,"medium")),o(3),s("routerLink",A(18,G,a.id))}}function ie(i,r){if(i&1&&(e(0,"div",72)(1,"table",73)(2,"thead",74)(3,"tr")(4,"th",75),n(5,"ID"),t(),e(6,"th",75),n(7,"Name"),t(),e(8,"th",75),n(9,"Email"),t(),e(10,"th",75),n(11,"Status"),t(),e(12,"th",75),n(13,"Created"),t(),e(14,"th",75),n(15,"Actions"),t()()(),e(16,"tbody",76),c(17,te,24,20,"tr",77),t()()()),i&2){let a=x();o(17),s("ngForOf",a.recentApplications)}}function ne(i,r){if(i&1&&(e(0,"div",91)(1,"div",92)(2,"div",93),n(3),t()(),e(4,"div",94)(5,"div",95),n(6),t(),e(7,"div",96),n(8,"documents"),t()()()),i&2){let a=r.$implicit;o(3),v(" ",h(3,P)[a]," "),o(),s("ngClass",C(4,O,a===6,a===5,a===4,a===3||a===2,a===1||a===0)),o(2),g(5+a*7)}}var L=class i{constructor(r){this.adminService=r}Math=Math;currentDate=new Date;statistics={totalApplications:0,pendingReview:0,approved:0,rejected:0,completionRate:0};recentApplications=[];loadingStatistics=!1;loadingApplications=!1;error="";ngOnInit(){this.loadDashboardData(),this.loadRecentApplications()}loadDashboardData(){this.loadingStatistics=!0,b({total:this.adminService.getTotalApplicationsCount(),pending:this.adminService.getPendingApplicationsCount(),approved:this.adminService.getApprovedApplicationsCount(),rejected:this.adminService.getRejectedApplicationsCount(),completionRate:this.adminService.getCompletionRate()}).subscribe({next:r=>{this.statistics={totalApplications:r.total,pendingReview:r.pending,approved:r.approved,rejected:r.rejected,completionRate:r.completionRate},this.loadingStatistics=!1},error:r=>{console.error("Error loading dashboard statistics:",r),this.error="Failed to load dashboard statistics",this.loadingStatistics=!1}})}loadRecentApplications(){this.loadingApplications=!0,this.adminService.getUsers(0,5,"createdAt,desc").subscribe({next:r=>{this.recentApplications=r.content,this.loadingApplications=!1},error:r=>{console.error("Error loading recent applications:",r),this.error="Failed to load recent applications",this.loadingApplications=!1}})}getStatusClass(r){switch(r){case"APPROVED":return"bg-green-100 text-green-800";case"REJECTED":return"bg-red-100 text-red-800";case"PENDING":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}static \u0275fac=function(a){return new(a||i)(S(V))};static \u0275cmp=y({type:i,selectors:[["app-admin-dashboard"]],decls:111,vars:20,consts:[[1,"w-full"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],["routerLink","/admin/users",1,"px-4","py-2","bg-primary-600","text-white","rounded-lg","hover:bg-primary-700","transition-colors","duration-200","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],["class","bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-lg mb-6 animate-fade-in",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-8"],[1,"bg-white","rounded-xl","shadow-md","p-6","border-l-4","border-primary-500","transform","transition-all","duration-300","hover:shadow-lg","hover:-translate-y-1"],[1,"flex","items-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-primary-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","font-medium","text-gray-500"],[1,"flex","items-end"],[1,"text-3xl","font-bold","text-gray-800"],["class","animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"bg-white","rounded-xl","shadow-md","p-6","border-l-4","border-yellow-500","transform","transition-all","duration-300","hover:shadow-lg","hover:-translate-y-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-yellow-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"bg-white","rounded-xl","shadow-md","p-6","border-l-4","border-green-500","transform","transition-all","duration-300","hover:shadow-lg","hover:-translate-y-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-green-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"bg-white","rounded-xl","shadow-md","p-6","border-l-4","border-red-500","transform","transition-all","duration-300","hover:shadow-lg","hover:-translate-y-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-red-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"bg-white","rounded-xl","shadow-md","p-6","mb-8","transform","transition-all","duration-300","hover:shadow-lg"],[1,"flex","justify-between","items-center","mb-4"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-primary-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500","px-3","py-1","bg-gray-100","rounded-full"],["class","flex justify-center py-4",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-md","overflow-hidden","mb-8","transform","transition-all","duration-300","hover:shadow-lg"],[1,"px-6","py-4","border-b","border-gray-200","flex","justify-between","items-center"],["class","flex justify-center py-12",4,"ngIf"],["class","py-12 text-center",4,"ngIf"],["class","overflow-x-auto animate-fade-in",4,"ngIf"],[1,"px-6","py-3","border-t","border-gray-200","bg-gray-50","text-right"],["routerLink","/admin/users",1,"text-sm","font-medium","text-primary-600","hover:text-primary-900","transition-colors","duration-200","flex","items-center","justify-end"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","ml-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 8l4 4m0 0l-4 4m4-4H3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"grid","grid-cols-7","gap-3"],["class","rounded-lg overflow-hidden shadow-sm transform transition-all duration-300 hover:shadow-md hover:-translate-y-1",4,"ngFor","ngForOf"],[1,"mt-6","flex","justify-center","space-x-4"],[1,"w-4","h-4","bg-blue-100","rounded","mr-2"],[1,"text-xs","text-gray-600"],[1,"w-4","h-4","bg-blue-200","rounded","mr-2"],[1,"w-4","h-4","bg-blue-300","rounded","mr-2"],[1,"w-4","h-4","bg-blue-400","rounded","mr-2"],[1,"w-4","h-4","bg-blue-500","rounded","mr-2"],[1,"bg-red-50","border-l-4","border-red-500","text-red-700","p-4","rounded-lg","mb-6","animate-fade-in"],[1,"flex"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-red-500","mr-3"],[1,"animate-pulse"],[1,"flex","justify-center","py-4"],[1,"animate-spin","rounded-full","h-8","w-8","border-t-2","border-b-2","border-primary-600"],[1,"w-full","bg-gray-200","rounded-full","h-5","mr-4","overflow-hidden"],[1,"bg-gradient-to-r","from-primary-500","to-primary-700","h-5","rounded-full","transition-all","duration-1000","ease-out"],[1,"text-lg","font-bold","text-gray-800"],[1,"flex","justify-center","py-12"],[1,"relative","w-16","h-16"],[1,"absolute","top-0","left-0","w-full","h-full","border-4","border-primary-100","rounded-full"],[1,"absolute","top-0","left-0","w-full","h-full","border-4","border-transparent","border-t-primary-600","rounded-full","animate-spin"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-primary-600","font-semibold","text-sm"],[1,"py-12","text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","mx-auto","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","max-w-md","mx-auto"],[1,"overflow-x-auto","animate-fade-in"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors duration-150",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition-colors","duration-150"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex-shrink-0","h-10","w-10","bg-primary-100","rounded-full","flex","items-center","justify-center","text-primary-700","font-bold"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-2","py-1","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-primary-600","hover:text-primary-900","transition-colors","duration-200","flex","items-center",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"rounded-lg","overflow-hidden","shadow-sm","transform","transition-all","duration-300","hover:shadow-md","hover:-translate-y-1"],[1,"bg-gradient-to-b","from-primary-50","to-primary-100","p-3"],[1,"text-xs","text-gray-600","font-medium"],[1,"p-4","flex","flex-col","items-center","justify-center",3,"ngClass"],[1,"text-lg","font-bold"],[1,"text-xs","mt-1"]],template:function(a,l){a&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Admin Dashboard"),t(),e(4,"a",3),m(),e(5,"svg",4),d(6,"path",5),t(),n(7," Manage Users "),t()(),c(8,B,6,1,"div",6),p(),e(9,"div",7)(10,"div",8)(11,"div",9),m(),e(12,"svg",10),d(13,"path",11),t(),p(),e(14,"h3",12),n(15,"Total Applications"),t()(),e(16,"div",13)(17,"p",14),c(18,z,2,0,"span",15)(19,U,2,1,"span",16),t()()(),e(20,"div",17)(21,"div",9),m(),e(22,"svg",18),d(23,"path",19),t(),p(),e(24,"h3",12),n(25,"Pending Review"),t()(),e(26,"div",13)(27,"p",14),c(28,J,2,0,"span",15)(29,$,2,1,"span",16),t()()(),e(30,"div",20)(31,"div",9),m(),e(32,"svg",21),d(33,"path",22),t(),p(),e(34,"h3",12),n(35,"Approved"),t()(),e(36,"div",13)(37,"p",14),c(38,q,2,0,"span",15)(39,K,2,1,"span",16),t()()(),e(40,"div",23)(41,"div",9),m(),e(42,"svg",24),d(43,"path",25),t(),p(),e(44,"h3",12),n(45,"Rejected"),t()(),e(46,"div",13)(47,"p",14),c(48,Q,2,0,"span",15)(49,W,2,1,"span",16),t()()()(),e(50,"div",26)(51,"div",27)(52,"div",28),m(),e(53,"svg",29),d(54,"path",30),t(),p(),e(55,"h2",31),n(56,"Application Completion Rate"),t()(),e(57,"span",32),n(58,"Last 30 days"),t()(),c(59,X,2,0,"div",33)(60,Y,5,3,"div",34),t(),e(61,"div",35)(62,"div",36)(63,"div",28),m(),e(64,"svg",29),d(65,"path",5),t(),p(),e(66,"h2",31),n(67,"Recent Applications"),t()(),e(68,"span",32),n(69),f(70,"date"),t()(),c(71,Z,6,0,"div",37)(72,ee,7,0,"div",38)(73,ie,18,1,"div",39),e(74,"div",40)(75,"a",41),n(76," View All Applications "),m(),e(77,"svg",42),d(78,"path",43),t()()()(),p(),e(79,"div",26)(80,"div",1)(81,"div",28),m(),e(82,"svg",29),d(83,"path",44),t(),p(),e(84,"h2",31),n(85,"Document Validation Activity"),t()(),e(86,"span",32),n(87,"Last 7 days"),t()(),e(88,"div",45),c(89,ne,9,10,"div",46),t(),e(90,"div",47)(91,"div",28),d(92,"div",48),e(93,"span",49),n(94,"0-5"),t()(),e(95,"div",28),d(96,"div",50),e(97,"span",49),n(98,"6-15"),t()(),e(99,"div",28),d(100,"div",51),e(101,"span",49),n(102,"16-30"),t()(),e(103,"div",28),d(104,"div",52),e(105,"span",49),n(106,"31-50"),t()(),e(107,"div",28),d(108,"div",53),e(109,"span",49),n(110,"50+"),t()()()()()),a&2&&(o(8),s("ngIf",l.error),o(10),s("ngIf",l.loadingStatistics),o(),s("ngIf",!l.loadingStatistics),o(9),s("ngIf",l.loadingStatistics),o(),s("ngIf",!l.loadingStatistics),o(9),s("ngIf",l.loadingStatistics),o(),s("ngIf",!l.loadingStatistics),o(9),s("ngIf",l.loadingStatistics),o(),s("ngIf",!l.loadingStatistics),o(10),s("ngIf",l.loadingStatistics),o(),s("ngIf",!l.loadingStatistics),o(9),v("Last Updated: ",l.loadingApplications?"Loading...":w(70,16,l.currentDate,"short"),""),o(2),s("ngIf",l.loadingApplications),o(),s("ngIf",!l.loadingApplications&&l.recentApplications.length===0),o(),s("ngIf",!l.loadingApplications&&l.recentApplications.length>0),o(16),s("ngForOf",h(19,H)))},dependencies:[M,k,I,D,T,R,j],encapsulation:2})};export{L as AdminDashboardComponent};
